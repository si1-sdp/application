# dgfip-si1/application
[![Latest Stable Version](https://poser.pugx.org/dgfip-si1/application/v)](https://packagist.org/packages/dgfip-si1/application)
[![Latest Unstable Version](https://img.shields.io/github/v/tag/si1-sdp/application?include_prereleases&sort=date&label=Latest)](https://packagist.org/packages/dgfip-si1/application)
![Packagist PHP Version](https://img.shields.io/packagist/dependency-v/dgfip-si1/application/php?color=%237A86B8&logo=php)
![Packagist Downloads](https://img.shields.io/packagist/dt/dgfip-si1/application?color=%25237A86B8&logo=packagist&logoColor=%23FFFFFF)



![PHPCS](https://img.shields.io/badge/PHPcs-&#10003;-brightgreen)&nbsp;&nbsp;
[![PHPStan](https://img.shields.io/badge/PHPStan-Level%209-brightgreen.svg?style=flat)](https://github.com/phpstan/phpstan)&nbsp;&nbsp;
[![Tests status](https://github.com/si1-sdp/application/actions/workflows/ci.yaml/badge.svg)](https://github.com/si1-sdp/application/actions/workflows/ci.yaml)&nbsp;&nbsp;
![Infection](https://img.shields.io/badge/infection-&#10003;-brightgreen)&nbsp;&nbsp;
<!--[![Coverage Status](https://coveralls.io/repos/github/si1-sdp/application/badge.svg?branch=main)](https://coveralls.io/github/si1-sdp/application?branch=main)-->

## Injecting configuration data

### default configuration : ./config.yml
if it does not exists, no configuration data - but default values may be generated by schema.

### Option --config : replace default configuration file
### Option --ad-config : adds a configuration file. (multiple values allowed)
### Finding configuration files :
by populating values in dgfip-si1/Application internal configuration. `.application-config.yml` :
~~~
dgfip-si1: 
  configuration:
    root_dir : /path/to/config    # default to application root dir
    path_patterns:                # default : []
      - [Cc]onfiguration
      - config-data
    name_patterns:                # default : ['config.yml']
      - '*.yml'
    sort_by_name:                 # default : false 
                                  # true: sort by filename instead of by full path
    recurse:                      # default false (true = recurse sub directories)
~~~
### Programaticaly
by using $app->config() methods `add-file()`, `add-array()`, `findConfigFiles()` or `set()`
see **dgfip-si1/config-helper** 
  


